<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>es 6 new stuff Async and Await</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <!-- <link rel="stylesheet" href="/index.css" /> -->
</head>
<body>
    <div class="wrapper">
        <h2>Async and Await</h2>
        <h3>promise</h3>

    </div>
<script>
  function breathe(amount) {
    return new Promise((resolve, reject) => {
      if (amount < 500) {
        reject('Thats too small for a value')
      }
      setTimeout(() => resolve(`Done for ${amount} ms`), amount)
    });
  }

  // try with try catch
  async function go() {
    try {
      console.log("start");
      const res = await breathe(750);
      console.log(res);
      const res2 = await breathe(500);
      console.log(res2);
      const res3 = await breathe(300);
      console.log(res3);
      const res4 = await breathe(760);
      console.log(res4);

    } catch (err) {
       console.error("error: oh Nooo!");
       console.error(err);
    }
  }

  // invoke async go
  go();

</script>
</body>
</html>
